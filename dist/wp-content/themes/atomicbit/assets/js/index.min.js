!function(){$(function(){$(".menu").each(function(){new n($(this))})});var n=function(n){var i=n,c=$(".menu-mobile-btn"),o=i.find(".menu__close"),u=function(){t()},t=function(){c.on("click",function(){e()}),o.on("click",function(){f()})},e=function(){i.addClass("visible")},f=function(){i.removeClass("visible")};u()}}();
!function(){"use strict";$(function(){$(window).on({load:function(){$("html, body").animate({scrollTop:0},1)}}),$.each($(".sub-menu"),function(){new n($(this))}),$(".site").each(function(){new e($(this))})});var n=function(n){var e=n,t=e.find(".sub-menu__swiper"),o=(t.find(".sub-menu__item"),$(window),function(){t=new Swiper(t,{autoplay:!1,speed:500,effect:"slide",slidesPerView:"auto",loopAdditionalSlides:0,loop:!1})}),i=function(){},s=function(){i(),o()};s()},e=function(n){var e=this,t=n,o=$(window),i=$(".site__footer"),s=i.find(".site__footer-logo"),a=!0,r=function(){o.on({scroll:function(){var n=$(window).scrollTop();l(n),s.offset().top-n<1.1*$(window).height()?i.addClass("is-inview"):i.removeClass("is-inview")},mousewheel:function(n){a&&(n.preventDefault(),c(n))},DOMMouseScroll:function(n){a&&(n.preventDefault(),c(n))}})},l=function(n){$(".hero__title").each(function(e){var t=$(this),o=.8;switch(e){case 0:t.css({"-webkit-transform":"translate( "+-n*o+"px, 0px )",transform:"translate( "+-n*o+"px, 0px )"});break;case 1:t.css({"-webkit-transform":"translate( "+-n*o*2+"px, 0px )",transform:"translate( "+-n*o*2+"px, 0px )"})}})},c=function(n){var e=1.2,t=170,i=n.originalEvent.wheelDelta/120||-n.originalEvent.detail/3,s=o.scrollTop(),a=s-parseInt(i*t);TweenMax.to(o,e,{scrollTo:{y:a,autoKill:!0},ease:Power1.easeOut,overwrite:5})},f=function(){t[0].obj=e,r()};e.setCanUseScroll=function(n){a=n},f()}}();
!function(){$(function(){$(".popup").each(function(){new o($(this))})});var o=function(o){var n=this,t=40,i=$(".popup__open"),e=o,p=e.find(".popup__close, .popup__cancel"),c=e.find(".popup__wrap"),u=e.find(".popup__content"),s=$("html"),d=$(window),a=setTimeout(function(){},1),f=function(){d.height()-2*t-c.height()>0?c.css({top:(d.height()-2*t-c.height())/2}):c.css({top:0})},r=function(){var o,n=document.createElement("div");return n.className="popup__scrollbar-measure",document.body.appendChild(n),o=n.offsetWidth-n.clientWidth,document.body.removeChild(n),o},l=function(){e.css({overflowY:"hidden"}),s.css({overflowY:"auto",paddingRight:0}),e.removeClass("popup_opened"),e.addClass("popup_hide"),a=setTimeout(function(){e.css({overflowY:"auto"}),e.removeClass("popup_hide")},300)},h=function(){e[0].obj=n,_()},_=function(){d.on({resize:function(){f()}}),i.on({click:function(){return m($(this).attr("data-popup")),!1}}),c.on({click:function(o){o.stopPropagation()}}),e.on({click:function(){return l(),!1}}),p.on({click:function(){return l(),!1}})},m=function(o){v(o),s.css({overflowY:"hidden",paddingRight:r()}),e.addClass("popup_opened"),f()},v=function(o){var n=u.filter(".popup__"+o);u.css({display:"none"}),n.css({display:"block"})};h()}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5tYWluLmpzIiwianF1ZXJ5LmluZGV4LmpzIiwianF1ZXJ5LnBvcHVwLmpzIl0sIm5hbWVzIjpbIiQiLCJlYWNoIiwiTWVudSIsInRoaXMiLCJvYmoiLCJfb2JqIiwiX2J0biIsIl9jbG9zZUJ0biIsImZpbmQiLCJfY29uc3RydWN0b3IiLCJfb25FdmVudHMiLCJvbiIsIl9vcGVuTWVudSIsIl9jbG9zZU1lbnUiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwid2luZG93IiwibG9hZCIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJTbGlkZXJzIiwiU2l0ZSIsIl9zdWJNZW51U3dpcGVyIiwiX2luaXRTbGlkZXIiLCJTd2lwZXIiLCJhdXRvcGxheSIsInNwZWVkIiwiZWZmZWN0Iiwic2xpZGVzUGVyVmlldyIsImxvb3BBZGRpdGlvbmFsU2xpZGVzIiwibG9vcCIsIl9vbkV2ZW50IiwiX2luaXQiLCJfc2VsZiIsIl93aW5kb3ciLCJfZm9vdGVyIiwiX2Zvb3RlckxvZ29Ub3AiLCJfY2FuVXNlU21vb3RoU2Nyb2xsIiwiX2FkZEV2ZW50cyIsInNjcm9sbCIsIl9tb3ZlIiwib2Zmc2V0IiwidG9wIiwiaGVpZ2h0IiwibW91c2V3aGVlbCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJfc2l0ZVNjcm9sbCIsIkRPTU1vdXNlU2Nyb2xsIiwiaSIsImVsZW0iLCJrb2VmWCIsImNzcyIsIi13ZWJraXQtdHJhbnNmb3JtIiwidHJhbnNmb3JtIiwic2Nyb2xsVGltZSIsInNjcm9sbERpc3RhbmNlIiwiZGVsdGEiLCJvcmlnaW5hbEV2ZW50Iiwid2hlZWxEZWx0YSIsImRldGFpbCIsImZpbmFsU2Nyb2xsIiwicGFyc2VJbnQiLCJUd2Vlbk1heCIsInRvIiwic2Nyb2xsVG8iLCJ5IiwiYXV0b0tpbGwiLCJlYXNlIiwiUG93ZXIxIiwiZWFzZU91dCIsIm92ZXJ3cml0ZSIsInNldENhblVzZVNjcm9sbCIsInBhcmFtIiwiUG9wdXAiLCJfcG9wdXBQYWRkaW5nIiwiX2J0blNob3ciLCJfYnRuQ2xvc2UiLCJfd3JhcCIsIl9jb250ZW50cyIsIl9zY3JvbGxDb250ZWluZXIiLCJfdGltZXIiLCJzZXRUaW1lb3V0IiwiX2NlbnRlcldyYXAiLCJfZ2V0U2Nyb2xsV2lkdGgiLCJzY3JvbGxCYXJXaWR0aCIsInNjcm9sbERpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImJvZHkiLCJhcHBlbmRDaGlsZCIsIm9mZnNldFdpZHRoIiwiY2xpZW50V2lkdGgiLCJyZW1vdmVDaGlsZCIsIl9oaWRlIiwib3ZlcmZsb3dZIiwicGFkZGluZ1JpZ2h0IiwicmVzaXplIiwiY2xpY2siLCJfc2hvdyIsImF0dHIiLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwiX3NldFBvcHVwQ29udGVudCIsImN1ckNvbnRlbnQiLCJmaWx0ZXIiLCJkaXNwbGF5Il0sIm1hcHBpbmdzIjoiQ0FBQSxXQUVJQSxFQUFHLFdBRUNBLEVBQUcsU0FBVUMsS0FBTSxXQUNmLEdBQUlDLEdBQU1GLEVBQUdHLFVBS3JCLElBQUlELEdBQU8sU0FBVUUsR0FHakIsR0FBSUMsR0FBT0QsRUFDUEUsRUFBT04sRUFBRyxvQkFDVk8sRUFBWUYsRUFBS0csS0FBTSxnQkFHdkJDLEVBQWUsV0FDWEMsS0FFSkEsRUFBWSxXQUVSSixFQUFLSyxHQUFJLFFBQVMsV0FDZEMsTUFHSkwsRUFBVUksR0FBSSxRQUFTLFdBQ25CRSxPQUlSRCxFQUFZLFdBQ1JQLEVBQUtTLFNBQVUsWUFFbkJELEVBQWEsV0FDVFIsRUFBS1UsWUFBYSxXQU8xQk47Q0MzQ1IsV0FFSSxZQUVBVCxHQUFHLFdBRUNBLEVBQUdnQixRQUFTTCxJQUNSTSxLQUFRLFdBRUpqQixFQUFFLGNBQWNrQixTQUFTQyxVQUFXLEdBQUcsTUFLL0NuQixFQUFFQyxLQUFNRCxFQUFHLGFBQWUsV0FFdEIsR0FBSW9CLEdBQVNwQixFQUFFRyxTQUluQkgsRUFBRSxTQUFTQyxLQUFNLFdBQ2IsR0FBSW9CLEdBQU1yQixFQUFFRyxVQUtwQixJQUFJaUIsR0FB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QVNHLEtBQUtDLFlBQWFMLEdBRTNCRCxFQUFpQkMsRUFBVU0sWUFBY04sRUFBVU8sWUFFbkROLFNBQVNHLEtBQUtJLFlBQVlSLEdBRW5CRCxHQUVYVSxFQUFRLFdBQ0oxRixFQUFLK0MsS0FDRDRDLFVBQVcsV0FFZmhCLEVBQWlCNUIsS0FDYjRDLFVBQVcsT0FDWEMsYUFBYyxJQUdsQjVGLEVBQUtVLFlBQWEsZ0JBQ2xCVixFQUFLUyxTQUFVLGNBRWZtRSxFQUFTQyxXQUFZLFdBRWpCN0UsRUFBSytDLEtBQ0Q0QyxVQUFXLFNBR2YzRixFQUFLVSxZQUFhLGVBQ25CLE1BR1BpQixFQUFRLFdBQ0ozQixFQUFNLEdBQUlELElBQU02QixFQUNoQnZCLEtBRUpBLEVBQVksV0FDUndCLEVBQVF2QixJQUNKdUYsT0FBUSxXQUNKZixPQUdSUCxFQUFTakUsSUFDTHdGLE1BQU8sV0FFSCxNQURBQyxHQUFPcEcsRUFBR0csTUFBT2tHLEtBQU0sZ0JBQ2hCLEtBR2Z2QixFQUFNbkUsSUFDRndGLE1BQU8sU0FBVUcsR0FDYkEsRUFBRUMscUJBR1ZsRyxFQUFLTSxJQUNEd0YsTUFBTyxXQUVILE1BREFKLE1BQ08sS0FHZmxCLEVBQVVsRSxJQUNOd0YsTUFBTyxXQUVILE1BREFKLE1BQ08sTUFJbkJLLEVBQVEsU0FBVVgsR0FDZGUsRUFBa0JmLEdBRWxCVCxFQUFpQjVCLEtBQ2I0QyxVQUFXLFNBQ1hDLGFBQWNiLE1BRWxCL0UsRUFBS1MsU0FBVSxnQkFDZnFFLEtBR0pxQixFQUFtQixTQUFVZixHQUN6QixHQUFJZ0IsR0FBYTFCLEVBQVUyQixPQUFRLFdBQWFqQixFQUVoRFYsR0FBVTNCLEtBQU91RCxRQUFTLFNBQzFCRixFQUFXckQsS0FBT3VELFFBQVMsVUFRbkMzRSIsImZpbGUiOiJpbmRleC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoIGZ1bmN0aW9uKCl7XG5cbiAgICAkKCBmdW5jdGlvbigpe1xuXG4gICAgICAgICQoICcubWVudScgKS5lYWNoKCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgbmV3IE1lbnUoICQoIHRoaXMgKSApO1xuICAgICAgICB9ICk7XG5cbiAgICB9ICk7XG5cbiAgICB2YXIgTWVudSA9IGZ1bmN0aW9uKCBvYmogKXtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9idG4gPSAkKCAnLm1lbnUtbW9iaWxlLWJ0bicgKSxcbiAgICAgICAgICAgIF9jbG9zZUJ0biA9IF9vYmouZmluZCggJy5tZW51X19jbG9zZScgKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2NvbnN0cnVjdG9yID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb25FdmVudHMgPSBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgX2J0bi5vbiggJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIF9vcGVuTWVudSgpO1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9jbG9zZUJ0bi5vbiggJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIF9jbG9zZU1lbnUoKTtcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb3Blbk1lbnUgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICd2aXNpYmxlJyApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jbG9zZU1lbnUgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICd2aXNpYmxlJyApO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xuXG4gICAgICAgIF9jb25zdHJ1Y3RvcigpO1xuXG4gICAgfTtcblxufSApKCk7IiwiKCBmdW5jdGlvbigpe1xuXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICAkKCBmdW5jdGlvbigpe1xuXG4gICAgICAgICQoIHdpbmRvdyApLm9uKCB7XG4gICAgICAgICAgICAnbG9hZCc6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtzY3JvbGxUb3A6IDB9LDEpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoICcuc3ViLW1lbnUnICksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IFNsaWRlcnMoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJCgnLnNpdGUnKS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG5ldyBTaXRlKCAkKHRoaXMpICk7XG4gICAgICAgIH0gKTtcblxuICAgIH0gKTtcblxuICAgIHZhciBTbGlkZXJzID0gZnVuY3Rpb24oIG9iaiApIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9zdWJNZW51U3dpcGVyID0gX29iai5maW5kKCAnLnN1Yi1tZW51X19zd2lwZXInICksXG4gICAgICAgICAgICBfc3ViTWVudUl0ZW4gPSBfc3ViTWVudVN3aXBlci5maW5kKCAnLnN1Yi1tZW51X19pdGVtJyApLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfaW5pdFNsaWRlciA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX3N1Yk1lbnVTd2lwZXIgPSBuZXcgU3dpcGVyICggX3N1Yk1lbnVTd2lwZXIsIHtcbiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXk6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBzcGVlZDogNTAwLFxuICAgICAgICAgICAgICAgICAgICBlZmZlY3Q6ICdzbGlkZScsXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgbG9vcEFkZGl0aW9uYWxTbGlkZXM6IDAsXG4gICAgICAgICAgICAgICAgICAgIGxvb3A6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uRXZlbnQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX29uRXZlbnQoKTtcbiAgICAgICAgICAgICAgICBfaW5pdFNsaWRlciAoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xuXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgU2l0ZSA9IGZ1bmN0aW9uKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApLFxuICAgICAgICAgICAgX2Zvb3RlciA9ICQoICcuc2l0ZV9fZm9vdGVyJyApLFxuICAgICAgICAgICAgX2Zvb3RlckxvZ29Ub3AgPSBfZm9vdGVyLmZpbmQoICcuc2l0ZV9fZm9vdGVyLWxvZ28nICksXG4gICAgICAgICAgICBfY2FuVXNlU21vb3RoU2Nyb2xsID0gdHJ1ZTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICAnc2Nyb2xsJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzY3JvbGxUb3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9tb3ZlKCBzY3JvbGxUb3AgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAoIF9mb290ZXJMb2dvVG9wLm9mZnNldCgpLnRvcCAtIHNjcm9sbFRvcCApIDwgJCh3aW5kb3cpLmhlaWdodCgpICogMS4xICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9mb290ZXIuYWRkQ2xhc3MoICdpcy1pbnZpZXcnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9mb290ZXIucmVtb3ZlQ2xhc3MoICdpcy1pbnZpZXcnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgJ21vdXNld2hlZWwnOiBmdW5jdGlvbiggZXZlbnQgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIF9jYW5Vc2VTbW9vdGhTY3JvbGwgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zaXRlU2Nyb2xsKCBldmVudCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICdET01Nb3VzZVNjcm9sbCc6IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggX2NhblVzZVNtb290aFNjcm9sbCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NpdGVTY3JvbGwoIGV2ZW50ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9tb3ZlID0gZnVuY3Rpb24oIHNjcm9sbFRvcCApe1xuXG4gICAgICAgICAgICAgICAgJCgnLmhlcm9fX3RpdGxlJykuZWFjaCggZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW0gPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAga29lZlggPSAuODtcblxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKCBpICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICd0cmFuc2xhdGUoICcgKyAoIC0gc2Nyb2xsVG9wICoga29lZlggKSArICdweCwgMHB4ICknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSggJyArICggLSBzY3JvbGxUb3AgKiBrb2VmWCApICsgJ3B4LCAwcHggKSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSggJyArICggLSBzY3JvbGxUb3AgKiBrb2VmWCAqIDIgKSArICdweCwgMHB4ICknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSggJyArICggLSBzY3JvbGxUb3AgKiBrb2VmWCAqIDIgKSArICdweCwgMHB4ICknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zaXRlU2Nyb2xsID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxUaW1lID0gMS4yLFxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxEaXN0YW5jZSA9IDE3MCxcbiAgICAgICAgICAgICAgICAgICAgZGVsdGEgPSBldmVudC5vcmlnaW5hbEV2ZW50LndoZWVsRGVsdGEvMTIwIHx8IC1ldmVudC5vcmlnaW5hbEV2ZW50LmRldGFpbC8zLFxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb3AgPSBfd2luZG93LnNjcm9sbFRvcCgpLFxuICAgICAgICAgICAgICAgICAgICBmaW5hbFNjcm9sbCA9IHNjcm9sbFRvcCAtIHBhcnNlSW50KCBkZWx0YSAqIHNjcm9sbERpc3RhbmNlICk7XG5cbiAgICAgICAgICAgICAgICBUd2Vlbk1heC50byggX3dpbmRvdywgc2Nyb2xsVGltZSwge1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUbyA6IHsgeTogZmluYWxTY3JvbGwsIGF1dG9LaWxsOnRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgZWFzZTogUG93ZXIxLmVhc2VPdXQsXG4gICAgICAgICAgICAgICAgICAgIG92ZXJ3cml0ZTogNVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX29ialsgMCBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xuXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcbiAgICAgICAgX3NlbGYuc2V0Q2FuVXNlU2Nyb2xsID0gZnVuY3Rpb24gKCBwYXJhbSApIHtcbiAgICAgICAgICAgIF9jYW5Vc2VTbW9vdGhTY3JvbGwgPSBwYXJhbTtcbiAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbn0gKSgpOyIsIiggZnVuY3Rpb24oKXtcblxuICAgICQoIGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgJCggJy5wb3B1cCcgKS5lYWNoKGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgIG5ldyBQb3B1cCgkKHRoaXMpKTtcblxuICAgICAgICB9KTtcblxuICAgIH0pO1xuXG4gICAgdmFyIFBvcHVwID0gZnVuY3Rpb24oIG9iaiApe1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfcG9wdXBQYWRkaW5nID0gNDAsXG4gICAgICAgICAgICBfYnRuU2hvdyA9ICAkKCAnLnBvcHVwX19vcGVuJyApLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9idG5DbG9zZSA9IF9vYmouZmluZCggJy5wb3B1cF9fY2xvc2UsIC5wb3B1cF9fY2FuY2VsJyApLFxuICAgICAgICAgICAgX3dyYXAgPSBfb2JqLmZpbmQoICcucG9wdXBfX3dyYXAnICksXG4gICAgICAgICAgICBfY29udGVudHMgPSBfb2JqLmZpbmQoICcucG9wdXBfX2NvbnRlbnQnICksXG4gICAgICAgICAgICBfc2Nyb2xsQ29udGVpbmVyID0gJCggJ2h0bWwnICksXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXG4gICAgICAgICAgICBfdGltZXIgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpe30sIDEgKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2NlbnRlcldyYXAgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGlmICggX3dpbmRvdy5oZWlnaHQoKSAtICggX3BvcHVwUGFkZGluZyAqIDIgKSAtIF93cmFwLmhlaWdodCgpID4gMCApIHtcbiAgICAgICAgICAgICAgICAgICAgX3dyYXAuY3NzKCB7IHRvcDogKCAoIF93aW5kb3cuaGVpZ2h0KCkgLSAoIF9wb3B1cFBhZGRpbmcgKiAyICkgKSAtIF93cmFwLmhlaWdodCgpICkgLyAyIH0gKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfd3JhcC5jc3MoIHsgdG9wOiAwIH0gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2dldFNjcm9sbFdpZHRoID0gZnVuY3Rpb24gKCl7XG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnKSxcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQmFyV2lkdGg7XG5cbiAgICAgICAgICAgICAgICBzY3JvbGxEaXYuY2xhc3NOYW1lID0gJ3BvcHVwX19zY3JvbGxiYXItbWVhc3VyZSc7XG5cbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKCBzY3JvbGxEaXYgKTtcblxuICAgICAgICAgICAgICAgIHNjcm9sbEJhcldpZHRoID0gc2Nyb2xsRGl2Lm9mZnNldFdpZHRoIC0gc2Nyb2xsRGl2LmNsaWVudFdpZHRoO1xuXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JvbGxEaXYpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjcm9sbEJhcldpZHRoO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9oaWRlID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xuICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdoaWRkZW4nXG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9zY3JvbGxDb250ZWluZXIuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IDBcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAncG9wdXBfb3BlbmVkJyApO1xuICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdwb3B1cF9oaWRlJyApO1xuXG4gICAgICAgICAgICAgICAgX3RpbWVyID0gc2V0VGltZW91dCggZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLmNzcyAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bydcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ3BvcHVwX2hpZGUnICk7XG4gICAgICAgICAgICAgICAgfSwgMzAwICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX29ialsgMCBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY2VudGVyV3JhcCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9idG5TaG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgX3Nob3coICQoIHRoaXMgKS5hdHRyKCAnZGF0YS1wb3B1cCcgKSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF93cmFwLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiggZSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfb2JqLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgX2hpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfYnRuQ2xvc2Uub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zaG93ID0gZnVuY3Rpb24oIGNsYXNzTmFtZSApe1xuICAgICAgICAgICAgICAgIF9zZXRQb3B1cENvbnRlbnQoIGNsYXNzTmFtZSApO1xuXG4gICAgICAgICAgICAgICAgX3Njcm9sbENvbnRlaW5lci5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnaGlkZGVuJyxcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiBfZ2V0U2Nyb2xsV2lkdGgoKVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAncG9wdXBfb3BlbmVkJyApO1xuICAgICAgICAgICAgICAgIF9jZW50ZXJXcmFwKCk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2V0UG9wdXBDb250ZW50ID0gZnVuY3Rpb24oIGNsYXNzTmFtZSApe1xuICAgICAgICAgICAgICAgIHZhciBjdXJDb250ZW50ID0gX2NvbnRlbnRzLmZpbHRlciggJy5wb3B1cF9fJyArIGNsYXNzTmFtZSApO1xuXG4gICAgICAgICAgICAgICAgX2NvbnRlbnRzLmNzcyggeyBkaXNwbGF5OiAnbm9uZScgfSApO1xuICAgICAgICAgICAgICAgIGN1ckNvbnRlbnQuY3NzKCB7IGRpc3BsYXk6ICdibG9jaycgfSApO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xuXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xufSApKCk7XG5cbiJdfQ==
